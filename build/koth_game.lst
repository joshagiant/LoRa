ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"koth_game.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.resetGame,"ax",%progbits
  20              		.align	1
  21              		.global	resetGame
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	resetGame:
  27              	.LFB138:
  28              		.file 1 "Core/Src/koth_game.c"
   1:Core/Src/koth_game.c **** #include "main.h"
   2:Core/Src/koth_game.c **** #include <string.h>
   3:Core/Src/koth_game.c **** #include "define.h"
   4:Core/Src/koth_game.c **** #include "extern.h"
   5:Core/Src/koth_game.c **** #include <stdio.h>
   6:Core/Src/koth_game.c **** #include <stdlib.h>
   7:Core/Src/koth_game.c **** #include "cmsis_os.h"
   8:Core/Src/koth_game.c **** #include "lora.h"
   9:Core/Src/koth_game.c **** #include "ssd1306.h"
  10:Core/Src/koth_game.c **** 
  11:Core/Src/koth_game.c **** 
  12:Core/Src/koth_game.c **** void resetGame()
  13:Core/Src/koth_game.c **** {
  29              		.loc 1 13 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  14:Core/Src/koth_game.c ****     REDLED_OFF;
  38              		.loc 1 14 5 view .LVU1
  39 0002 0D4C     		ldr	r4, .L3
  40 0004 0122     		movs	r2, #1
  41 0006 0221     		movs	r1, #2
  42 0008 2046     		mov	r0, r4
  43 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
  44              	.LVL0:
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 2


  15:Core/Src/koth_game.c ****     BLUELED_OFF;
  45              		.loc 1 15 5 view .LVU2
  46 000e 0122     		movs	r2, #1
  47 0010 0421     		movs	r1, #4
  48 0012 2046     		mov	r0, r4
  49 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
  50              	.LVL1:
  16:Core/Src/koth_game.c ****     red_flag = 0;
  51              		.loc 1 16 5 view .LVU3
  52              		.loc 1 16 14 is_stmt 0 view .LVU4
  53 0018 0023     		movs	r3, #0
  54 001a 084A     		ldr	r2, .L3+4
  55 001c 1370     		strb	r3, [r2]
  17:Core/Src/koth_game.c ****     blue_flag = 0;
  56              		.loc 1 17 5 is_stmt 1 view .LVU5
  57              		.loc 1 17 15 is_stmt 0 view .LVU6
  58 001e 084A     		ldr	r2, .L3+8
  59 0020 1370     		strb	r3, [r2]
  18:Core/Src/koth_game.c ****     red_counter = 0;
  60              		.loc 1 18 5 is_stmt 1 view .LVU7
  61              		.loc 1 18 17 is_stmt 0 view .LVU8
  62 0022 084A     		ldr	r2, .L3+12
  63 0024 1360     		str	r3, [r2]
  19:Core/Src/koth_game.c ****     blue_counter = 0;
  64              		.loc 1 19 5 is_stmt 1 view .LVU9
  65              		.loc 1 19 18 is_stmt 0 view .LVU10
  66 0026 084A     		ldr	r2, .L3+16
  67 0028 1360     		str	r3, [r2]
  20:Core/Src/koth_game.c ****     gameState = WAITING;
  68              		.loc 1 20 5 is_stmt 1 view .LVU11
  69              		.loc 1 20 15 is_stmt 0 view .LVU12
  70 002a 084B     		ldr	r3, .L3+20
  71 002c 0822     		movs	r2, #8
  72 002e 1A70     		strb	r2, [r3]
  21:Core/Src/koth_game.c ****     stateChange_flag = 1;
  73              		.loc 1 21 5 is_stmt 1 view .LVU13
  74              		.loc 1 21 22 is_stmt 0 view .LVU14
  75 0030 074B     		ldr	r3, .L3+24
  76 0032 0122     		movs	r2, #1
  77 0034 1A70     		strb	r2, [r3]
  22:Core/Src/koth_game.c **** 
  23:Core/Src/koth_game.c **** }
  78              		.loc 1 23 1 view .LVU15
  79 0036 10BD     		pop	{r4, pc}
  80              	.L4:
  81              		.align	2
  82              	.L3:
  83 0038 00040240 		.word	1073873920
  84 003c 00000000 		.word	red_flag
  85 0040 00000000 		.word	blue_flag
  86 0044 00000000 		.word	red_counter
  87 0048 00000000 		.word	blue_counter
  88 004c 00000000 		.word	gameState
  89 0050 00000000 		.word	stateChange_flag
  90              		.cfi_endproc
  91              	.LFE138:
  93              		.section	.rodata.getKOTHPacket.str1.4,"aMS",%progbits,1
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 3


  94              		.align	2
  95              	.LC0:
  96 0000 4B4F5448 		.ascii	"KOTH\000"
  96      00
  97              		.section	.text.getKOTHPacket,"ax",%progbits
  98              		.align	1
  99              		.global	getKOTHPacket
 100              		.syntax unified
 101              		.thumb
 102              		.thumb_func
 104              	getKOTHPacket:
 105              	.LFB140:
  24:Core/Src/koth_game.c **** 
  25:Core/Src/koth_game.c **** void doGameState()
  26:Core/Src/koth_game.c **** {
  27:Core/Src/koth_game.c ****     if((loraRXopcode >=0) && (loraRXopcode != gameState) )
  28:Core/Src/koth_game.c ****     {
  29:Core/Src/koth_game.c ****         switch (loraRXopcode)
  30:Core/Src/koth_game.c ****             {
  31:Core/Src/koth_game.c **** 
  32:Core/Src/koth_game.c ****                 case goSTART: // other player started game
  33:Core/Src/koth_game.c ****                     if(THIS_PLAYER == RED) gameState = goBLUE;
  34:Core/Src/koth_game.c ****                     else gameState = goRED;
  35:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
  36:Core/Src/koth_game.c ****                 break;
  37:Core/Src/koth_game.c **** 
  38:Core/Src/koth_game.c ****                 case goBLUE: 
  39:Core/Src/koth_game.c ****                     gameState = BLUE;
  40:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
  41:Core/Src/koth_game.c ****                 break; 
  42:Core/Src/koth_game.c ****                 
  43:Core/Src/koth_game.c ****                 case goRED:
  44:Core/Src/koth_game.c ****                     gameState = RED;
  45:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
  46:Core/Src/koth_game.c ****                 break; 
  47:Core/Src/koth_game.c **** 
  48:Core/Src/koth_game.c ****                 case RED:
  49:Core/Src/koth_game.c ****                 case BLUE:
  50:Core/Src/koth_game.c ****                     gameState = loraRXopcode;
  51:Core/Src/koth_game.c ****                     stateChange_flag = 0; 
  52:Core/Src/koth_game.c ****                 break;
  53:Core/Src/koth_game.c **** 
  54:Core/Src/koth_game.c **** 
  55:Core/Src/koth_game.c ****                 case REDWINS:
  56:Core/Src/koth_game.c ****                 case BLUEWINS:
  57:Core/Src/koth_game.c ****                     gameState = loraRXopcode;
  58:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
  59:Core/Src/koth_game.c ****                 
  60:Core/Src/koth_game.c ****                 break;
  61:Core/Src/koth_game.c ****                 
  62:Core/Src/koth_game.c ****         }
  63:Core/Src/koth_game.c ****     }
  64:Core/Src/koth_game.c ****     
  65:Core/Src/koth_game.c ****     switch (gameState)
  66:Core/Src/koth_game.c ****     {
  67:Core/Src/koth_game.c ****         case WAITING:
  68:Core/Src/koth_game.c ****             if(stateChange_flag) // do once
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 4


  69:Core/Src/koth_game.c ****             { 
  70:Core/Src/koth_game.c ****                 stateChange_flag = 0;
  71:Core/Src/koth_game.c ****                 ssd1306_Fill(0); 
  72:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
  73:Core/Src/koth_game.c ****                 if (THIS_PLAYER == RED) ssd1306_WriteString("RED",Font_11x18,1);
  74:Core/Src/koth_game.c ****                 else ssd1306_WriteString("BLUE",Font_11x18,1);
  75:Core/Src/koth_game.c ****                 ssd1306_SetCursor(25,21);
  76:Core/Src/koth_game.c ****                 ssd1306_WriteString("Push to play!",Font_7x10,1);
  77:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
  78:Core/Src/koth_game.c ****             }
  79:Core/Src/koth_game.c ****         break;
  80:Core/Src/koth_game.c **** 
  81:Core/Src/koth_game.c ****         /*
  82:Core/Src/koth_game.c ****         case START: // Other player initiated
  83:Core/Src/koth_game.c ****             if(stateChange_flag) // do once
  84:Core/Src/koth_game.c ****             { 
  85:Core/Src/koth_game.c ****                 stateChange_flag = 0;
  86:Core/Src/koth_game.c ****                 // resetGame();
  87:Core/Src/koth_game.c ****                 ssd1306_Fill(0); 
  88:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
  89:Core/Src/koth_game.c ****                 if (THIS_PLAYER == RED) ssd1306_WriteString("RED",Font_11x18,1);
  90:Core/Src/koth_game.c ****                 else ssd1306_WriteString("BLUE",Font_11x18,1);
  91:Core/Src/koth_game.c ****                 ssd1306_SetCursor(25,21);
  92:Core/Src/koth_game.c ****                 ssd1306_WriteString("Push to play!",Font_7x10,1);
  93:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
  94:Core/Src/koth_game.c ****             }
  95:Core/Src/koth_game.c ****         break;
  96:Core/Src/koth_game.c ****         */
  97:Core/Src/koth_game.c **** 
  98:Core/Src/koth_game.c ****         case goSTART:
  99:Core/Src/koth_game.c ****         case goRED:
 100:Core/Src/koth_game.c ****         case goBLUE:
 101:Core/Src/koth_game.c **** 
 102:Core/Src/koth_game.c ****             // Limbo state, don't increment stuff until other player syncs
 103:Core/Src/koth_game.c ****             stateChange_flag = 0;
 104:Core/Src/koth_game.c ****             red_flag = 0;
 105:Core/Src/koth_game.c ****             blue_flag = 0;
 106:Core/Src/koth_game.c ****             REDLED_OFF;
 107:Core/Src/koth_game.c ****             BLUELED_OFF;
 108:Core/Src/koth_game.c **** 
 109:Core/Src/koth_game.c ****             while( (gameState == goSTART) || (gameState == goRED) || (gameState == goBLUE) )
 110:Core/Src/koth_game.c ****             {
 111:Core/Src/koth_game.c ****                 sendOpcode(gameState);
 112:Core/Src/koth_game.c ****                 osDelay(50);
 113:Core/Src/koth_game.c ****             }
 114:Core/Src/koth_game.c **** 
 115:Core/Src/koth_game.c ****         break;
 116:Core/Src/koth_game.c **** 
 117:Core/Src/koth_game.c **** 
 118:Core/Src/koth_game.c ****         case RED:
 119:Core/Src/koth_game.c ****             if(stateChange_flag)
 120:Core/Src/koth_game.c ****             {
 121:Core/Src/koth_game.c ****                 sendOpcode(RED);
 122:Core/Src/koth_game.c ****                 stateChange_flag = 0;
 123:Core/Src/koth_game.c ****                 red_flag = 1;
 124:Core/Src/koth_game.c ****                 blue_flag = 0;
 125:Core/Src/koth_game.c ****                 REDLED_ON;
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 5


 126:Core/Src/koth_game.c ****                 BLUELED_OFF;
 127:Core/Src/koth_game.c ****                 ssd1306_Fill(0);
 128:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 129:Core/Src/koth_game.c ****                 ssd1306_WriteString("RED is king",Font_7x10,1);
 130:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,10);
 131:Core/Src/koth_game.c ****                 ssd1306_WriteString("of the hill!",Font_7x10,1);
 132:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 133:Core/Src/koth_game.c ****                 
 134:Core/Src/koth_game.c ****             }
 135:Core/Src/koth_game.c **** 
 136:Core/Src/koth_game.c **** 
 137:Core/Src/koth_game.c ****         break;
 138:Core/Src/koth_game.c **** 
 139:Core/Src/koth_game.c ****         case BLUE:
 140:Core/Src/koth_game.c ****             if(stateChange_flag)
 141:Core/Src/koth_game.c ****             {
 142:Core/Src/koth_game.c ****                 sendOpcode(BLUE);
 143:Core/Src/koth_game.c ****                 stateChange_flag = 0;
 144:Core/Src/koth_game.c ****                 red_flag = 0;
 145:Core/Src/koth_game.c ****                 blue_flag = 1;
 146:Core/Src/koth_game.c ****                 REDLED_OFF;
 147:Core/Src/koth_game.c ****                 BLUELED_ON;
 148:Core/Src/koth_game.c ****                 ssd1306_Fill(0);
 149:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 150:Core/Src/koth_game.c ****                 ssd1306_WriteString("BLUE is king",Font_7x10,1);
 151:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,10);
 152:Core/Src/koth_game.c ****                 ssd1306_WriteString("of the hill!",Font_7x10,1);
 153:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 154:Core/Src/koth_game.c ****             }
 155:Core/Src/koth_game.c ****         break;
 156:Core/Src/koth_game.c **** 
 157:Core/Src/koth_game.c ****         case REDWINS:
 158:Core/Src/koth_game.c ****             if(stateChange_flag)
 159:Core/Src/koth_game.c ****             {
 160:Core/Src/koth_game.c ****                 sendOpcode(REDWINS);
 161:Core/Src/koth_game.c ****                 stateChange_flag = 0;
 162:Core/Src/koth_game.c ****                 REDLED_ON;
 163:Core/Src/koth_game.c ****                 BLUELED_OFF;
 164:Core/Src/koth_game.c ****                 ssd1306_Fill(0);
 165:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 166:Core/Src/koth_game.c ****                 ssd1306_WriteString("Red wins!",Font_7x10,1);
 167:Core/Src/koth_game.c ****                 char score [16];
 168:Core/Src/koth_game.c ****                 uint16_t difference = red_counter - blue_counter;
 169:Core/Src/koth_game.c ****                 sprintf(score, "Won by %ums", difference);
 170:Core/Src/koth_game.c ****                 lcd_put_cur(1,0);
 171:Core/Src/koth_game.c ****                 ssd1306_WriteString(score,Font_7x10,1);
 172:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 173:Core/Src/koth_game.c ****             }
 174:Core/Src/koth_game.c ****         break;
 175:Core/Src/koth_game.c **** 
 176:Core/Src/koth_game.c ****         case BLUEWINS:
 177:Core/Src/koth_game.c ****             if(stateChange_flag)
 178:Core/Src/koth_game.c ****             {
 179:Core/Src/koth_game.c ****                 sendOpcode(BLUEWINS);
 180:Core/Src/koth_game.c ****                 stateChange_flag = 0;
 181:Core/Src/koth_game.c ****                 REDLED_OFF;
 182:Core/Src/koth_game.c ****                 BLUELED_ON;
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 6


 183:Core/Src/koth_game.c ****                 ssd1306_Fill(0);
 184:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 185:Core/Src/koth_game.c ****                 ssd1306_WriteString("Blue wins!",Font_7x10,1);
 186:Core/Src/koth_game.c ****                 char score [16];
 187:Core/Src/koth_game.c ****                 uint16_t difference = blue_counter - red_counter;
 188:Core/Src/koth_game.c ****                 sprintf(score, "Won by %ums", difference);
 189:Core/Src/koth_game.c ****                 lcd_put_cur(1,0);
 190:Core/Src/koth_game.c ****                 ssd1306_WriteString(score,Font_7x10,1);
 191:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 192:Core/Src/koth_game.c ****             }
 193:Core/Src/koth_game.c ****         break;
 194:Core/Src/koth_game.c **** 
 195:Core/Src/koth_game.c **** /*
 196:Core/Src/koth_game.c ****             case penalty:
 197:Core/Src/koth_game.c ****             if(stateChange_flag)
 198:Core/Src/koth_game.c ****             {
 199:Core/Src/koth_game.c ****             stateChange_flag = 0;
 200:Core/Src/koth_game.c ****             REDLED_OFF;
 201:Core/Src/koth_game.c ****             ssd1306_Fill(0); 
 202:Core/Src/koth_game.c ****             ssd1306_SetCursor(0,0);
 203:Core/Src/koth_game.c ****             ssd1306_WriteString("Penalty!",Font_7x10,1);
 204:Core/Src/koth_game.c ****             ssd1306_UpdateScreen();
 205:Core/Src/koth_game.c ****             }
 206:Core/Src/koth_game.c **** 
 207:Core/Src/koth_game.c ****         break;
 208:Core/Src/koth_game.c **** */
 209:Core/Src/koth_game.c ****       
 210:Core/Src/koth_game.c ****     }
 211:Core/Src/koth_game.c **** }
 212:Core/Src/koth_game.c **** 
 213:Core/Src/koth_game.c **** void getKOTHPacket()
 214:Core/Src/koth_game.c **** {
 106              		.loc 1 214 1 is_stmt 1 view -0
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 40
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110 0000 00B5     		push	{lr}
 111              	.LCFI1:
 112              		.cfi_def_cfa_offset 4
 113              		.cfi_offset 14, -4
 114 0002 8BB0     		sub	sp, sp, #44
 115              	.LCFI2:
 116              		.cfi_def_cfa_offset 48
 215:Core/Src/koth_game.c ****     // Wait for LoRa availability
 216:Core/Src/koth_game.c ****     //xSemaphoreTake(xloraMutex, portMAX_DELAY);
 217:Core/Src/koth_game.c **** 
 218:Core/Src/koth_game.c ****     // Get the packet
 219:Core/Src/koth_game.c ****     packet_size = LoRa_receive(&myLoRa, loraRXbuf, 10);
 117              		.loc 1 219 5 view .LVU17
 118              		.loc 1 219 19 is_stmt 0 view .LVU18
 119 0004 0A22     		movs	r2, #10
 120 0006 1649     		ldr	r1, .L10
 121 0008 1648     		ldr	r0, .L10+4
 122 000a FFF7FEFF 		bl	LoRa_receive
 123              	.LVL2:
 124              		.loc 1 219 17 view .LVU19
 125 000e 164B     		ldr	r3, .L10+8
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 7


 126 0010 1870     		strb	r0, [r3]
 220:Core/Src/koth_game.c **** 
 221:Core/Src/koth_game.c ****     if(packet_size > 0)
 127              		.loc 1 221 5 is_stmt 1 view .LVU20
 128              		.loc 1 221 7 is_stmt 0 view .LVU21
 129 0012 68B1     		cbz	r0, .L6
 222:Core/Src/koth_game.c ****     {
 223:Core/Src/koth_game.c ****         if(loraRXbuf[0] != receivedPacket[0])
 130              		.loc 1 223 9 is_stmt 1 view .LVU22
 131              		.loc 1 223 21 is_stmt 0 view .LVU23
 132 0014 124B     		ldr	r3, .L10
 133 0016 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 134              		.loc 1 223 42 view .LVU24
 135 0018 144B     		ldr	r3, .L10+12
 136 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 137              		.loc 1 223 11 view .LVU25
 138 001c 9A42     		cmp	r2, r3
 139 001e 07D0     		beq	.L6
 224:Core/Src/koth_game.c ****         {
 225:Core/Src/koth_game.c ****             memcpy(receivedPacket,loraRXbuf,10);
 140              		.loc 1 225 13 is_stmt 1 view .LVU26
 141 0020 124B     		ldr	r3, .L10+12
 142 0022 0F4A     		ldr	r2, .L10
 143 0024 1068     		ldr	r0, [r2]	@ unaligned
 144 0026 5168     		ldr	r1, [r2, #4]	@ unaligned
 145 0028 1860     		str	r0, [r3]	@ unaligned
 146 002a 5960     		str	r1, [r3, #4]	@ unaligned
 147 002c 1289     		ldrh	r2, [r2, #8]	@ unaligned
 148 002e 1A81     		strh	r2, [r3, #8]	@ unaligned
 149              	.L6:
 226:Core/Src/koth_game.c ****         }
 227:Core/Src/koth_game.c ****     }
 228:Core/Src/koth_game.c ****     //xSemaphoreGive(xloraMutex);
 229:Core/Src/koth_game.c ****     
 230:Core/Src/koth_game.c ****     // Parse the data
 231:Core/Src/koth_game.c ****     if(strstr((char*)receivedPacket, "KOTH"))
 150              		.loc 1 231 5 view .LVU27
 151              		.loc 1 231 8 is_stmt 0 view .LVU28
 152 0030 0F49     		ldr	r1, .L10+16
 153 0032 0E48     		ldr	r0, .L10+12
 154 0034 FFF7FEFF 		bl	strstr
 155              	.LVL3:
 156              		.loc 1 231 7 view .LVU29
 157 0038 78B1     		cbz	r0, .L5
 158              	.LBB2:
 232:Core/Src/koth_game.c ****     {
 233:Core/Src/koth_game.c ****         long opcodeRX;
 159              		.loc 1 233 9 is_stmt 1 view .LVU30
 234:Core/Src/koth_game.c ****         char * trashCatcher[10]; 
 160              		.loc 1 234 9 view .LVU31
 235:Core/Src/koth_game.c ****         
 236:Core/Src/koth_game.c ****         opcodeRX = strtol((char*)receivedPacket, trashCatcher,10);
 161              		.loc 1 236 9 view .LVU32
 162              		.loc 1 236 20 is_stmt 0 view .LVU33
 163 003a 0A22     		movs	r2, #10
 164 003c 6946     		mov	r1, sp
 165 003e 0B48     		ldr	r0, .L10+12
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 8


 166 0040 FFF7FEFF 		bl	strtol
 167              	.LVL4:
 237:Core/Src/koth_game.c **** 
 238:Core/Src/koth_game.c ****         // Process opcode and respond if necessary
 239:Core/Src/koth_game.c ****         // make a readable copy
 240:Core/Src/koth_game.c ****         memcpy(rxReadable,&gameStateNames[opcodeRX], sizeof(&gameStateNames[opcodeRX]));
 168              		.loc 1 240 9 is_stmt 1 view .LVU34
 169 0044 0B4B     		ldr	r3, .L10+20
 170 0046 1B68     		ldr	r3, [r3]
 171 0048 1A58     		ldr	r2, [r3, r0]	@ unaligned
 172 004a 0B4B     		ldr	r3, .L10+24
 173 004c 1A60     		str	r2, [r3]	@ unaligned
 241:Core/Src/koth_game.c **** 
 242:Core/Src/koth_game.c ****         // process
 243:Core/Src/koth_game.c ****         if(gameState != opcodeRX) loraRXopcode = opcodeRX;
 174              		.loc 1 243 9 view .LVU35
 175              		.loc 1 243 22 is_stmt 0 view .LVU36
 176 004e 0B4B     		ldr	r3, .L10+28
 177 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 178              		.loc 1 243 11 view .LVU37
 179 0052 8342     		cmp	r3, r0
 180 0054 01D0     		beq	.L5
 181              		.loc 1 243 35 is_stmt 1 discriminator 1 view .LVU38
 182              		.loc 1 243 48 is_stmt 0 discriminator 1 view .LVU39
 183 0056 0A4B     		ldr	r3, .L10+32
 184 0058 1870     		strb	r0, [r3]
 185              	.LVL5:
 186              	.L5:
 187              		.loc 1 243 48 discriminator 1 view .LVU40
 188              	.LBE2:
 244:Core/Src/koth_game.c **** 
 245:Core/Src/koth_game.c ****         //Do something about it in the main thread!
 246:Core/Src/koth_game.c ****     }
 247:Core/Src/koth_game.c **** 
 248:Core/Src/koth_game.c ****         
 249:Core/Src/koth_game.c **** }
 189              		.loc 1 249 1 view .LVU41
 190 005a 0BB0     		add	sp, sp, #44
 191              	.LCFI3:
 192              		.cfi_def_cfa_offset 4
 193              		@ sp needed
 194 005c 5DF804FB 		ldr	pc, [sp], #4
 195              	.L11:
 196              		.align	2
 197              	.L10:
 198 0060 00000000 		.word	loraRXbuf
 199 0064 00000000 		.word	myLoRa
 200 0068 00000000 		.word	packet_size
 201 006c 00000000 		.word	receivedPacket
 202 0070 00000000 		.word	.LC0
 203 0074 00000000 		.word	gameStateNames
 204 0078 00000000 		.word	rxReadable
 205 007c 00000000 		.word	gameState
 206 0080 00000000 		.word	loraRXopcode
 207              		.cfi_endproc
 208              	.LFE140:
 210              		.section	.text.btnPressed,"ax",%progbits
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 9


 211              		.align	1
 212              		.global	btnPressed
 213              		.syntax unified
 214              		.thumb
 215              		.thumb_func
 217              	btnPressed:
 218              	.LFB141:
 250:Core/Src/koth_game.c **** 
 251:Core/Src/koth_game.c **** void btnPressed()
 252:Core/Src/koth_game.c **** {
 219              		.loc 1 252 1 is_stmt 1 view -0
 220              		.cfi_startproc
 221              		@ args = 0, pretend = 0, frame = 0
 222              		@ frame_needed = 0, uses_anonymous_args = 0
 223              		@ link register save eliminated.
 253:Core/Src/koth_game.c ****     switch (gameState)
 224              		.loc 1 253 5 view .LVU43
 225 0000 124B     		ldr	r3, .L21
 226 0002 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 227 0004 931E     		subs	r3, r2, #2
 228 0006 062B     		cmp	r3, #6
 229 0008 1ED8     		bhi	.L12
 230 000a DFE803F0 		tbb	[pc, r3]
 231              	.L15:
 232 000e 0A       		.byte	(.L17-.L15)/2
 233 000f 1D       		.byte	(.L12-.L15)/2
 234 0010 0A       		.byte	(.L17-.L15)/2
 235 0011 1D       		.byte	(.L12-.L15)/2
 236 0012 17       		.byte	(.L16-.L15)/2
 237 0013 17       		.byte	(.L16-.L15)/2
 238 0014 04       		.byte	(.L14-.L15)/2
 239 0015 00       		.p2align 1
 240              	.L14:
 254:Core/Src/koth_game.c ****     {
 255:Core/Src/koth_game.c ****         case WAITING:
 256:Core/Src/koth_game.c ****             stateChange_flag = 1; 
 241              		.loc 1 256 13 view .LVU44
 242              		.loc 1 256 30 is_stmt 0 view .LVU45
 243 0016 0123     		movs	r3, #1
 244 0018 0D4A     		ldr	r2, .L21+4
 245 001a 1370     		strb	r3, [r2]
 257:Core/Src/koth_game.c ****             gameState = goSTART;    
 246              		.loc 1 257 13 is_stmt 1 view .LVU46
 247              		.loc 1 257 23 is_stmt 0 view .LVU47
 248 001c 0B4A     		ldr	r2, .L21
 249 001e 1370     		strb	r3, [r2]
 258:Core/Src/koth_game.c ****             
 259:Core/Src/koth_game.c ****         break;
 250              		.loc 1 259 9 is_stmt 1 view .LVU48
 251 0020 7047     		bx	lr
 252              	.L17:
 260:Core/Src/koth_game.c ****         
 261:Core/Src/koth_game.c ****         case RED:
 262:Core/Src/koth_game.c ****         case BLUE:
 263:Core/Src/koth_game.c **** 
 264:Core/Src/koth_game.c ****             stateChange_flag = 1; 
 253              		.loc 1 264 13 view .LVU49
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 10


 254              		.loc 1 264 30 is_stmt 0 view .LVU50
 255 0022 0B4B     		ldr	r3, .L21+4
 256 0024 0121     		movs	r1, #1
 257 0026 1970     		strb	r1, [r3]
 265:Core/Src/koth_game.c ****             
 266:Core/Src/koth_game.c ****             if(THIS_PLAYER == gameState) // oops! button masher penalty!
 258              		.loc 1 266 13 is_stmt 1 view .LVU51
 259              		.loc 1 266 15 is_stmt 0 view .LVU52
 260 0028 022A     		cmp	r2, #2
 261 002a 03D0     		beq	.L20
 267:Core/Src/koth_game.c ****             {
 268:Core/Src/koth_game.c ****                 if(THIS_PLAYER == RED) gameState = goBLUE;
 269:Core/Src/koth_game.c ****                 else gameState = goRED;
 270:Core/Src/koth_game.c **** 
 271:Core/Src/koth_game.c ****                 // TBD: disable button for a bit, penalty
 272:Core/Src/koth_game.c ****             }
 273:Core/Src/koth_game.c ****             
 274:Core/Src/koth_game.c ****             else // Took the hill!
 275:Core/Src/koth_game.c ****             {
 276:Core/Src/koth_game.c ****                 if(THIS_PLAYER == RED) gameState = goRED;
 262              		.loc 1 276 17 is_stmt 1 discriminator 1 view .LVU53
 263              		.loc 1 276 40 discriminator 1 view .LVU54
 264              		.loc 1 276 50 is_stmt 0 discriminator 1 view .LVU55
 265 002c 074B     		ldr	r3, .L21
 266 002e 0322     		movs	r2, #3
 267 0030 1A70     		strb	r2, [r3]
 268 0032 7047     		bx	lr
 269              	.L20:
 268:Core/Src/koth_game.c ****                 else gameState = goRED;
 270              		.loc 1 268 17 is_stmt 1 discriminator 1 view .LVU56
 268:Core/Src/koth_game.c ****                 else gameState = goRED;
 271              		.loc 1 268 40 discriminator 1 view .LVU57
 268:Core/Src/koth_game.c ****                 else gameState = goRED;
 272              		.loc 1 268 50 is_stmt 0 discriminator 1 view .LVU58
 273 0034 054B     		ldr	r3, .L21
 274 0036 0522     		movs	r2, #5
 275 0038 1A70     		strb	r2, [r3]
 276 003a 7047     		bx	lr
 277              	.L16:
 277:Core/Src/koth_game.c ****                 else gameState = goBLUE;
 278:Core/Src/koth_game.c ****             }
 279:Core/Src/koth_game.c **** 
 280:Core/Src/koth_game.c ****         break;
 281:Core/Src/koth_game.c **** 
 282:Core/Src/koth_game.c ****         
 283:Core/Src/koth_game.c ****         case REDWINS:
 284:Core/Src/koth_game.c ****         case BLUEWINS:
 285:Core/Src/koth_game.c ****             stateChange_flag = 1; 
 278              		.loc 1 285 13 is_stmt 1 view .LVU59
 279              		.loc 1 285 30 is_stmt 0 view .LVU60
 280 003c 044B     		ldr	r3, .L21+4
 281 003e 0122     		movs	r2, #1
 282 0040 1A70     		strb	r2, [r3]
 286:Core/Src/koth_game.c ****             gameState = WAITING;
 283              		.loc 1 286 13 is_stmt 1 view .LVU61
 284              		.loc 1 286 23 is_stmt 0 view .LVU62
 285 0042 024B     		ldr	r3, .L21
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 11


 286 0044 0822     		movs	r2, #8
 287 0046 1A70     		strb	r2, [r3]
 287:Core/Src/koth_game.c ****         break;
 288              		.loc 1 287 9 is_stmt 1 view .LVU63
 289              	.L12:
 288:Core/Src/koth_game.c **** 
 289:Core/Src/koth_game.c ****     }
 290:Core/Src/koth_game.c **** 
 291:Core/Src/koth_game.c **** 
 292:Core/Src/koth_game.c **** }
 290              		.loc 1 292 1 is_stmt 0 view .LVU64
 291 0048 7047     		bx	lr
 292              	.L22:
 293 004a 00BF     		.align	2
 294              	.L21:
 295 004c 00000000 		.word	gameState
 296 0050 00000000 		.word	stateChange_flag
 297              		.cfi_endproc
 298              	.LFE141:
 300              		.section	.rodata.sendOpcode.str1.4,"aMS",%progbits,1
 301              		.align	2
 302              	.LC1:
 303 0000 25754B4F 		.ascii	"%uKOTH\000"
 303      544800
 304              		.section	.text.sendOpcode,"ax",%progbits
 305              		.align	1
 306              		.global	sendOpcode
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 311              	sendOpcode:
 312              	.LVL6:
 313              	.LFB142:
 293:Core/Src/koth_game.c **** 
 294:Core/Src/koth_game.c **** void sendOpcode(uint8_t opcodeTX)
 295:Core/Src/koth_game.c **** {
 314              		.loc 1 295 1 is_stmt 1 view -0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
 318              		.loc 1 295 1 is_stmt 0 view .LVU66
 319 0000 38B5     		push	{r3, r4, r5, lr}
 320              	.LCFI4:
 321              		.cfi_def_cfa_offset 16
 322              		.cfi_offset 3, -16
 323              		.cfi_offset 4, -12
 324              		.cfi_offset 5, -8
 325              		.cfi_offset 14, -4
 326 0002 0546     		mov	r5, r0
 296:Core/Src/koth_game.c ****     memset(opcodeString, 0, sizeof(opcodeString));
 327              		.loc 1 296 5 is_stmt 1 view .LVU67
 328 0004 0C4C     		ldr	r4, .L25
 329 0006 0023     		movs	r3, #0
 330 0008 2360     		str	r3, [r4]	@ unaligned
 331 000a 6360     		str	r3, [r4, #4]	@ unaligned
 332 000c 2381     		strh	r3, [r4, #8]	@ unaligned
 297:Core/Src/koth_game.c **** 
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 12


 298:Core/Src/koth_game.c ****     // Create encoded string
 299:Core/Src/koth_game.c ****     sprintf(opcodeString, "%uKOTH", opcodeTX);
 333              		.loc 1 299 5 view .LVU68
 334 000e 0246     		mov	r2, r0
 335 0010 0A49     		ldr	r1, .L25+4
 336 0012 2046     		mov	r0, r4
 337              	.LVL7:
 338              		.loc 1 299 5 is_stmt 0 view .LVU69
 339 0014 FFF7FEFF 		bl	sprintf
 340              	.LVL8:
 300:Core/Src/koth_game.c **** 
 301:Core/Src/koth_game.c ****     // Wait for LoRa availability
 302:Core/Src/koth_game.c ****     //xSemaphoreTake(xloraMutex, portMAX_DELAY);
 303:Core/Src/koth_game.c **** 
 304:Core/Src/koth_game.c ****     memcpy(txReadable, &gameStateNames[opcodeTX], sizeof(&gameStateNames[opcodeTX]));
 341              		.loc 1 304 5 is_stmt 1 view .LVU70
 342 0018 094B     		ldr	r3, .L25+8
 343 001a 1B68     		ldr	r3, [r3]
 344 001c 5A59     		ldr	r2, [r3, r5]	@ unaligned
 345 001e 094B     		ldr	r3, .L25+12
 346 0020 1A60     		str	r2, [r3]	@ unaligned
 305:Core/Src/koth_game.c **** 
 306:Core/Src/koth_game.c ****     // Send it via LoRa
 307:Core/Src/koth_game.c ****     LoRa_transmit(&myLoRa, (uint8_t*)opcodeString, 10, 100);
 347              		.loc 1 307 5 view .LVU71
 348 0022 094D     		ldr	r5, .L25+16
 349 0024 6423     		movs	r3, #100
 350 0026 0A22     		movs	r2, #10
 351 0028 2146     		mov	r1, r4
 352 002a 2846     		mov	r0, r5
 353 002c FFF7FEFF 		bl	LoRa_transmit
 354              	.LVL9:
 308:Core/Src/koth_game.c **** 
 309:Core/Src/koth_game.c ****     LoRa_startReceiving(&myLoRa);
 355              		.loc 1 309 5 view .LVU72
 356 0030 2846     		mov	r0, r5
 357 0032 FFF7FEFF 		bl	LoRa_startReceiving
 358              	.LVL10:
 310:Core/Src/koth_game.c **** 
 311:Core/Src/koth_game.c ****     // Release LoRa availability
 312:Core/Src/koth_game.c ****     //xSemaphoreGive(xloraMutex);
 313:Core/Src/koth_game.c ****     // osMutexRelease(lora_mutexHandle);
 314:Core/Src/koth_game.c **** 
 315:Core/Src/koth_game.c ****   
 316:Core/Src/koth_game.c **** }
 359              		.loc 1 316 1 is_stmt 0 view .LVU73
 360 0036 38BD     		pop	{r3, r4, r5, pc}
 361              	.L26:
 362              		.align	2
 363              	.L25:
 364 0038 00000000 		.word	opcodeString
 365 003c 00000000 		.word	.LC1
 366 0040 00000000 		.word	gameStateNames
 367 0044 00000000 		.word	txReadable
 368 0048 00000000 		.word	myLoRa
 369              		.cfi_endproc
 370              	.LFE142:
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 13


 372              		.section	.rodata.doGameState.str1.4,"aMS",%progbits,1
 373              		.align	2
 374              	.LC2:
 375 0000 52454400 		.ascii	"RED\000"
 376              		.align	2
 377              	.LC3:
 378 0004 50757368 		.ascii	"Push to play!\000"
 378      20746F20 
 378      706C6179 
 378      2100
 379 0012 0000     		.align	2
 380              	.LC4:
 381 0014 52454420 		.ascii	"RED is king\000"
 381      6973206B 
 381      696E6700 
 382              		.align	2
 383              	.LC5:
 384 0020 6F662074 		.ascii	"of the hill!\000"
 384      68652068 
 384      696C6C21 
 384      00
 385 002d 000000   		.align	2
 386              	.LC6:
 387 0030 424C5545 		.ascii	"BLUE is king\000"
 387      20697320 
 387      6B696E67 
 387      00
 388 003d 000000   		.align	2
 389              	.LC7:
 390 0040 52656420 		.ascii	"Red wins!\000"
 390      77696E73 
 390      2100
 391 004a 0000     		.align	2
 392              	.LC8:
 393 004c 576F6E20 		.ascii	"Won by %ums\000"
 393      62792025 
 393      756D7300 
 394              		.align	2
 395              	.LC9:
 396 0058 426C7565 		.ascii	"Blue wins!\000"
 396      2077696E 
 396      732100
 397              		.section	.text.doGameState,"ax",%progbits
 398              		.align	1
 399              		.global	doGameState
 400              		.syntax unified
 401              		.thumb
 402              		.thumb_func
 404              	doGameState:
 405              	.LFB139:
  26:Core/Src/koth_game.c ****     if((loraRXopcode >=0) && (loraRXopcode != gameState) )
 406              		.loc 1 26 1 is_stmt 1 view -0
 407              		.cfi_startproc
 408              		@ args = 0, pretend = 0, frame = 16
 409              		@ frame_needed = 0, uses_anonymous_args = 0
 410 0000 70B5     		push	{r4, r5, r6, lr}
 411              	.LCFI5:
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 14


 412              		.cfi_def_cfa_offset 16
 413              		.cfi_offset 4, -16
 414              		.cfi_offset 5, -12
 415              		.cfi_offset 6, -8
 416              		.cfi_offset 14, -4
 417 0002 84B0     		sub	sp, sp, #16
 418              	.LCFI6:
 419              		.cfi_def_cfa_offset 32
  27:Core/Src/koth_game.c ****     {
 420              		.loc 1 27 5 view .LVU75
  27:Core/Src/koth_game.c ****     {
 421              		.loc 1 27 27 is_stmt 0 view .LVU76
 422 0004 AF4B     		ldr	r3, .L48
 423 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 424 0008 AF4A     		ldr	r2, .L48+4
 425 000a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
  27:Core/Src/koth_game.c ****     {
 426              		.loc 1 27 7 view .LVU77
 427 000c 9342     		cmp	r3, r2
 428 000e 0ED0     		beq	.L28
  29:Core/Src/koth_game.c ****             {
 429              		.loc 1 29 9 is_stmt 1 view .LVU78
 430 0010 5A1E     		subs	r2, r3, #1
 431 0012 062A     		cmp	r2, #6
 432 0014 0BD8     		bhi	.L28
 433 0016 DFE802F0 		tbb	[pc, r2]
 434              	.L30:
 435 001a 04       		.byte	(.L34-.L30)/2
 436 001b 27       		.byte	(.L32-.L30)/2
 437 001c 20       		.byte	(.L33-.L30)/2
 438 001d 27       		.byte	(.L32-.L30)/2
 439 001e 19       		.byte	(.L31-.L30)/2
 440 001f 2D       		.byte	(.L29-.L30)/2
 441 0020 2D       		.byte	(.L29-.L30)/2
 442 0021 00       		.p2align 1
 443              	.L34:
  33:Core/Src/koth_game.c ****                     else gameState = goRED;
 444              		.loc 1 33 21 discriminator 1 view .LVU79
  33:Core/Src/koth_game.c ****                     else gameState = goRED;
 445              		.loc 1 33 44 discriminator 1 view .LVU80
  33:Core/Src/koth_game.c ****                     else gameState = goRED;
 446              		.loc 1 33 54 is_stmt 0 discriminator 1 view .LVU81
 447 0022 A94B     		ldr	r3, .L48+4
 448 0024 0522     		movs	r2, #5
 449 0026 1A70     		strb	r2, [r3]
  35:Core/Src/koth_game.c ****                 break;
 450              		.loc 1 35 21 is_stmt 1 discriminator 1 view .LVU82
  35:Core/Src/koth_game.c ****                 break;
 451              		.loc 1 35 38 is_stmt 0 discriminator 1 view .LVU83
 452 0028 A84B     		ldr	r3, .L48+8
 453 002a 0122     		movs	r2, #1
 454 002c 1A70     		strb	r2, [r3]
  36:Core/Src/koth_game.c **** 
 455              		.loc 1 36 17 is_stmt 1 discriminator 1 view .LVU84
 456              	.L28:
  65:Core/Src/koth_game.c ****     {
 457              		.loc 1 65 5 view .LVU85
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 15


 458 002e A64B     		ldr	r3, .L48+4
 459 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 460 0032 013B     		subs	r3, r3, #1
 461 0034 072B     		cmp	r3, #7
 462 0036 64D8     		bhi	.L27
 463 0038 DFE813F0 		tbh	[pc, r3, lsl #1]
 464              	.L37:
 465 003c 4300     		.2byte	(.L40-.L37)/2
 466 003e 6500     		.2byte	(.L42-.L37)/2
 467 0040 4300     		.2byte	(.L40-.L37)/2
 468 0042 9A00     		.2byte	(.L41-.L37)/2
 469 0044 4300     		.2byte	(.L40-.L37)/2
 470 0046 0901     		.2byte	(.L39-.L37)/2
 471 0048 CF00     		.2byte	(.L38-.L37)/2
 472 004a 2200     		.2byte	(.L36-.L37)/2
 473              		.p2align 1
 474              	.L31:
  39:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
 475              		.loc 1 39 21 view .LVU86
  39:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
 476              		.loc 1 39 31 is_stmt 0 view .LVU87
 477 004c 9E4B     		ldr	r3, .L48+4
 478 004e 0422     		movs	r2, #4
 479 0050 1A70     		strb	r2, [r3]
  40:Core/Src/koth_game.c ****                 break; 
 480              		.loc 1 40 21 is_stmt 1 view .LVU88
  40:Core/Src/koth_game.c ****                 break; 
 481              		.loc 1 40 38 is_stmt 0 view .LVU89
 482 0052 9E4B     		ldr	r3, .L48+8
 483 0054 0122     		movs	r2, #1
 484 0056 1A70     		strb	r2, [r3]
  41:Core/Src/koth_game.c ****                 
 485              		.loc 1 41 17 is_stmt 1 view .LVU90
 486 0058 E9E7     		b	.L28
 487              	.L33:
  44:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
 488              		.loc 1 44 21 view .LVU91
  44:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
 489              		.loc 1 44 31 is_stmt 0 view .LVU92
 490 005a 9B4B     		ldr	r3, .L48+4
 491 005c 0222     		movs	r2, #2
 492 005e 1A70     		strb	r2, [r3]
  45:Core/Src/koth_game.c ****                 break; 
 493              		.loc 1 45 21 is_stmt 1 view .LVU93
  45:Core/Src/koth_game.c ****                 break; 
 494              		.loc 1 45 38 is_stmt 0 view .LVU94
 495 0060 9A4B     		ldr	r3, .L48+8
 496 0062 0122     		movs	r2, #1
 497 0064 1A70     		strb	r2, [r3]
  46:Core/Src/koth_game.c **** 
 498              		.loc 1 46 17 is_stmt 1 view .LVU95
 499 0066 E2E7     		b	.L28
 500              	.L32:
  50:Core/Src/koth_game.c ****                     stateChange_flag = 0; 
 501              		.loc 1 50 21 view .LVU96
  50:Core/Src/koth_game.c ****                     stateChange_flag = 0; 
 502              		.loc 1 50 31 is_stmt 0 view .LVU97
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 16


 503 0068 974A     		ldr	r2, .L48+4
 504 006a 1370     		strb	r3, [r2]
  51:Core/Src/koth_game.c ****                 break;
 505              		.loc 1 51 21 is_stmt 1 view .LVU98
  51:Core/Src/koth_game.c ****                 break;
 506              		.loc 1 51 38 is_stmt 0 view .LVU99
 507 006c 974B     		ldr	r3, .L48+8
 508 006e 0022     		movs	r2, #0
 509 0070 1A70     		strb	r2, [r3]
  52:Core/Src/koth_game.c **** 
 510              		.loc 1 52 17 is_stmt 1 view .LVU100
 511 0072 DCE7     		b	.L28
 512              	.L29:
  57:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
 513              		.loc 1 57 21 view .LVU101
  57:Core/Src/koth_game.c ****                     stateChange_flag = 1; 
 514              		.loc 1 57 31 is_stmt 0 view .LVU102
 515 0074 944A     		ldr	r2, .L48+4
 516 0076 1370     		strb	r3, [r2]
  58:Core/Src/koth_game.c ****                 
 517              		.loc 1 58 21 is_stmt 1 view .LVU103
  58:Core/Src/koth_game.c ****                 
 518              		.loc 1 58 38 is_stmt 0 view .LVU104
 519 0078 944B     		ldr	r3, .L48+8
 520 007a 0122     		movs	r2, #1
 521 007c 1A70     		strb	r2, [r3]
  60:Core/Src/koth_game.c ****                 
 522              		.loc 1 60 17 is_stmt 1 view .LVU105
 523 007e D6E7     		b	.L28
 524              	.L36:
  68:Core/Src/koth_game.c ****             { 
 525              		.loc 1 68 13 view .LVU106
  68:Core/Src/koth_game.c ****             { 
 526              		.loc 1 68 16 is_stmt 0 view .LVU107
 527 0080 924B     		ldr	r3, .L48+8
 528 0082 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  68:Core/Src/koth_game.c ****             { 
 529              		.loc 1 68 15 view .LVU108
 530 0084 002B     		cmp	r3, #0
 531 0086 3CD0     		beq	.L27
  70:Core/Src/koth_game.c ****                 ssd1306_Fill(0); 
 532              		.loc 1 70 17 is_stmt 1 view .LVU109
  70:Core/Src/koth_game.c ****                 ssd1306_Fill(0); 
 533              		.loc 1 70 34 is_stmt 0 view .LVU110
 534 0088 0024     		movs	r4, #0
 535 008a 904B     		ldr	r3, .L48+8
 536 008c 1C70     		strb	r4, [r3]
  71:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 537              		.loc 1 71 17 is_stmt 1 view .LVU111
 538 008e 2046     		mov	r0, r4
 539 0090 FFF7FEFF 		bl	ssd1306_Fill
 540              	.LVL11:
  72:Core/Src/koth_game.c ****                 if (THIS_PLAYER == RED) ssd1306_WriteString("RED",Font_11x18,1);
 541              		.loc 1 72 17 view .LVU112
 542 0094 2146     		mov	r1, r4
 543 0096 2046     		mov	r0, r4
 544 0098 FFF7FEFF 		bl	ssd1306_SetCursor
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 17


 545              	.LVL12:
  73:Core/Src/koth_game.c ****                 else ssd1306_WriteString("BLUE",Font_11x18,1);
 546              		.loc 1 73 17 view .LVU113
  73:Core/Src/koth_game.c ****                 else ssd1306_WriteString("BLUE",Font_11x18,1);
 547              		.loc 1 73 41 view .LVU114
 548 009c 8C4A     		ldr	r2, .L48+12
 549 009e 0123     		movs	r3, #1
 550 00a0 06CA     		ldm	r2, {r1, r2}
 551 00a2 8C48     		ldr	r0, .L48+16
 552 00a4 FFF7FEFF 		bl	ssd1306_WriteString
 553              	.LVL13:
  75:Core/Src/koth_game.c ****                 ssd1306_WriteString("Push to play!",Font_7x10,1);
 554              		.loc 1 75 17 view .LVU115
 555 00a8 1521     		movs	r1, #21
 556 00aa 1920     		movs	r0, #25
 557 00ac FFF7FEFF 		bl	ssd1306_SetCursor
 558              	.LVL14:
  76:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 559              		.loc 1 76 17 view .LVU116
 560 00b0 894A     		ldr	r2, .L48+20
 561 00b2 0123     		movs	r3, #1
 562 00b4 06CA     		ldm	r2, {r1, r2}
 563 00b6 8948     		ldr	r0, .L48+24
 564 00b8 FFF7FEFF 		bl	ssd1306_WriteString
 565              	.LVL15:
  77:Core/Src/koth_game.c ****             }
 566              		.loc 1 77 17 view .LVU117
 567 00bc FFF7FEFF 		bl	ssd1306_UpdateScreen
 568              	.LVL16:
 569 00c0 1FE0     		b	.L27
 570              	.L40:
 103:Core/Src/koth_game.c ****             red_flag = 0;
 571              		.loc 1 103 13 view .LVU118
 103:Core/Src/koth_game.c ****             red_flag = 0;
 572              		.loc 1 103 30 is_stmt 0 view .LVU119
 573 00c2 0023     		movs	r3, #0
 574 00c4 814A     		ldr	r2, .L48+8
 575 00c6 1370     		strb	r3, [r2]
 104:Core/Src/koth_game.c ****             blue_flag = 0;
 576              		.loc 1 104 13 is_stmt 1 view .LVU120
 104:Core/Src/koth_game.c ****             blue_flag = 0;
 577              		.loc 1 104 22 is_stmt 0 view .LVU121
 578 00c8 854A     		ldr	r2, .L48+28
 579 00ca 1370     		strb	r3, [r2]
 105:Core/Src/koth_game.c ****             REDLED_OFF;
 580              		.loc 1 105 13 is_stmt 1 view .LVU122
 105:Core/Src/koth_game.c ****             REDLED_OFF;
 581              		.loc 1 105 23 is_stmt 0 view .LVU123
 582 00cc 854A     		ldr	r2, .L48+32
 583 00ce 1370     		strb	r3, [r2]
 106:Core/Src/koth_game.c ****             BLUELED_OFF;
 584              		.loc 1 106 13 is_stmt 1 view .LVU124
 585 00d0 854C     		ldr	r4, .L48+36
 586 00d2 0122     		movs	r2, #1
 587 00d4 0221     		movs	r1, #2
 588 00d6 2046     		mov	r0, r4
 589 00d8 FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 18


 590              	.LVL17:
 107:Core/Src/koth_game.c **** 
 591              		.loc 1 107 13 view .LVU125
 592 00dc 0122     		movs	r2, #1
 593 00de 0421     		movs	r1, #4
 594 00e0 2046     		mov	r0, r4
 595 00e2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 596              	.LVL18:
 109:Core/Src/koth_game.c ****             {
 597              		.loc 1 109 13 view .LVU126
 109:Core/Src/koth_game.c ****             {
 598              		.loc 1 109 18 is_stmt 0 view .LVU127
 599 00e6 04E0     		b	.L43
 600              	.L44:
 111:Core/Src/koth_game.c ****                 osDelay(50);
 601              		.loc 1 111 17 is_stmt 1 view .LVU128
 602 00e8 FFF7FEFF 		bl	sendOpcode
 603              	.LVL19:
 112:Core/Src/koth_game.c ****             }
 604              		.loc 1 112 17 view .LVU129
 605 00ec 3220     		movs	r0, #50
 606 00ee FFF7FEFF 		bl	osDelay
 607              	.LVL20:
 608              	.L43:
 109:Core/Src/koth_game.c ****             {
 609              		.loc 1 109 67 view .LVU130
 109:Core/Src/koth_game.c ****             {
 610              		.loc 1 109 31 is_stmt 0 view .LVU131
 611 00f2 754B     		ldr	r3, .L48+4
 612 00f4 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 109:Core/Src/koth_game.c ****             {
 613              		.loc 1 109 67 view .LVU132
 614 00f6 0128     		cmp	r0, #1
 615 00f8 F6D0     		beq	.L44
 109:Core/Src/koth_game.c ****             {
 616              		.loc 1 109 43 discriminator 1 view .LVU133
 617 00fa 0328     		cmp	r0, #3
 618 00fc F4D0     		beq	.L44
 109:Core/Src/koth_game.c ****             {
 619              		.loc 1 109 67 discriminator 2 view .LVU134
 620 00fe 0528     		cmp	r0, #5
 621 0100 F2D0     		beq	.L44
 622              	.L27:
 211:Core/Src/koth_game.c **** 
 623              		.loc 1 211 1 view .LVU135
 624 0102 04B0     		add	sp, sp, #16
 625              	.LCFI7:
 626              		.cfi_remember_state
 627              		.cfi_def_cfa_offset 16
 628              		@ sp needed
 629 0104 70BD     		pop	{r4, r5, r6, pc}
 630              	.L42:
 631              	.LCFI8:
 632              		.cfi_restore_state
 119:Core/Src/koth_game.c ****             {
 633              		.loc 1 119 13 is_stmt 1 view .LVU136
 119:Core/Src/koth_game.c ****             {
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 19


 634              		.loc 1 119 16 is_stmt 0 view .LVU137
 635 0106 714B     		ldr	r3, .L48+8
 636 0108 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 119:Core/Src/koth_game.c ****             {
 637              		.loc 1 119 15 view .LVU138
 638 010a 002B     		cmp	r3, #0
 639 010c F9D0     		beq	.L27
 121:Core/Src/koth_game.c ****                 stateChange_flag = 0;
 640              		.loc 1 121 17 is_stmt 1 view .LVU139
 641 010e 0220     		movs	r0, #2
 642 0110 FFF7FEFF 		bl	sendOpcode
 643              	.LVL21:
 122:Core/Src/koth_game.c ****                 red_flag = 1;
 644              		.loc 1 122 17 view .LVU140
 122:Core/Src/koth_game.c ****                 red_flag = 1;
 645              		.loc 1 122 34 is_stmt 0 view .LVU141
 646 0114 0024     		movs	r4, #0
 647 0116 6D4B     		ldr	r3, .L48+8
 648 0118 1C70     		strb	r4, [r3]
 123:Core/Src/koth_game.c ****                 blue_flag = 0;
 649              		.loc 1 123 17 is_stmt 1 view .LVU142
 123:Core/Src/koth_game.c ****                 blue_flag = 0;
 650              		.loc 1 123 26 is_stmt 0 view .LVU143
 651 011a 0126     		movs	r6, #1
 652 011c 704B     		ldr	r3, .L48+28
 653 011e 1E70     		strb	r6, [r3]
 124:Core/Src/koth_game.c ****                 REDLED_ON;
 654              		.loc 1 124 17 is_stmt 1 view .LVU144
 124:Core/Src/koth_game.c ****                 REDLED_ON;
 655              		.loc 1 124 27 is_stmt 0 view .LVU145
 656 0120 704B     		ldr	r3, .L48+32
 657 0122 1C70     		strb	r4, [r3]
 125:Core/Src/koth_game.c ****                 BLUELED_OFF;
 658              		.loc 1 125 17 is_stmt 1 view .LVU146
 659 0124 704D     		ldr	r5, .L48+36
 660 0126 2246     		mov	r2, r4
 661 0128 0221     		movs	r1, #2
 662 012a 2846     		mov	r0, r5
 663 012c FFF7FEFF 		bl	HAL_GPIO_WritePin
 664              	.LVL22:
 126:Core/Src/koth_game.c ****                 ssd1306_Fill(0);
 665              		.loc 1 126 17 view .LVU147
 666 0130 3246     		mov	r2, r6
 667 0132 0421     		movs	r1, #4
 668 0134 2846     		mov	r0, r5
 669 0136 FFF7FEFF 		bl	HAL_GPIO_WritePin
 670              	.LVL23:
 127:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 671              		.loc 1 127 17 view .LVU148
 672 013a 2046     		mov	r0, r4
 673 013c FFF7FEFF 		bl	ssd1306_Fill
 674              	.LVL24:
 128:Core/Src/koth_game.c ****                 ssd1306_WriteString("RED is king",Font_7x10,1);
 675              		.loc 1 128 17 view .LVU149
 676 0140 2146     		mov	r1, r4
 677 0142 2046     		mov	r0, r4
 678 0144 FFF7FEFF 		bl	ssd1306_SetCursor
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 20


 679              	.LVL25:
 129:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,10);
 680              		.loc 1 129 17 view .LVU150
 681 0148 634D     		ldr	r5, .L48+20
 682 014a 3346     		mov	r3, r6
 683 014c 95E80600 		ldm	r5, {r1, r2}
 684 0150 6648     		ldr	r0, .L48+40
 685 0152 FFF7FEFF 		bl	ssd1306_WriteString
 686              	.LVL26:
 130:Core/Src/koth_game.c ****                 ssd1306_WriteString("of the hill!",Font_7x10,1);
 687              		.loc 1 130 17 view .LVU151
 688 0156 0A21     		movs	r1, #10
 689 0158 2046     		mov	r0, r4
 690 015a FFF7FEFF 		bl	ssd1306_SetCursor
 691              	.LVL27:
 131:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 692              		.loc 1 131 17 view .LVU152
 693 015e 3346     		mov	r3, r6
 694 0160 95E80600 		ldm	r5, {r1, r2}
 695 0164 6248     		ldr	r0, .L48+44
 696 0166 FFF7FEFF 		bl	ssd1306_WriteString
 697              	.LVL28:
 132:Core/Src/koth_game.c ****                 
 698              		.loc 1 132 17 view .LVU153
 699 016a FFF7FEFF 		bl	ssd1306_UpdateScreen
 700              	.LVL29:
 701 016e C8E7     		b	.L27
 702              	.L41:
 140:Core/Src/koth_game.c ****             {
 703              		.loc 1 140 13 view .LVU154
 140:Core/Src/koth_game.c ****             {
 704              		.loc 1 140 16 is_stmt 0 view .LVU155
 705 0170 564B     		ldr	r3, .L48+8
 706 0172 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 140:Core/Src/koth_game.c ****             {
 707              		.loc 1 140 15 view .LVU156
 708 0174 002B     		cmp	r3, #0
 709 0176 C4D0     		beq	.L27
 142:Core/Src/koth_game.c ****                 stateChange_flag = 0;
 710              		.loc 1 142 17 is_stmt 1 view .LVU157
 711 0178 0420     		movs	r0, #4
 712 017a FFF7FEFF 		bl	sendOpcode
 713              	.LVL30:
 143:Core/Src/koth_game.c ****                 red_flag = 0;
 714              		.loc 1 143 17 view .LVU158
 143:Core/Src/koth_game.c ****                 red_flag = 0;
 715              		.loc 1 143 34 is_stmt 0 view .LVU159
 716 017e 0024     		movs	r4, #0
 717 0180 524B     		ldr	r3, .L48+8
 718 0182 1C70     		strb	r4, [r3]
 144:Core/Src/koth_game.c ****                 blue_flag = 1;
 719              		.loc 1 144 17 is_stmt 1 view .LVU160
 144:Core/Src/koth_game.c ****                 blue_flag = 1;
 720              		.loc 1 144 26 is_stmt 0 view .LVU161
 721 0184 564B     		ldr	r3, .L48+28
 722 0186 1C70     		strb	r4, [r3]
 145:Core/Src/koth_game.c ****                 REDLED_OFF;
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 21


 723              		.loc 1 145 17 is_stmt 1 view .LVU162
 145:Core/Src/koth_game.c ****                 REDLED_OFF;
 724              		.loc 1 145 27 is_stmt 0 view .LVU163
 725 0188 0126     		movs	r6, #1
 726 018a 564B     		ldr	r3, .L48+32
 727 018c 1E70     		strb	r6, [r3]
 146:Core/Src/koth_game.c ****                 BLUELED_ON;
 728              		.loc 1 146 17 is_stmt 1 view .LVU164
 729 018e 564D     		ldr	r5, .L48+36
 730 0190 3246     		mov	r2, r6
 731 0192 0221     		movs	r1, #2
 732 0194 2846     		mov	r0, r5
 733 0196 FFF7FEFF 		bl	HAL_GPIO_WritePin
 734              	.LVL31:
 147:Core/Src/koth_game.c ****                 ssd1306_Fill(0);
 735              		.loc 1 147 17 view .LVU165
 736 019a 2246     		mov	r2, r4
 737 019c 0221     		movs	r1, #2
 738 019e 2846     		mov	r0, r5
 739 01a0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 740              	.LVL32:
 148:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 741              		.loc 1 148 17 view .LVU166
 742 01a4 2046     		mov	r0, r4
 743 01a6 FFF7FEFF 		bl	ssd1306_Fill
 744              	.LVL33:
 149:Core/Src/koth_game.c ****                 ssd1306_WriteString("BLUE is king",Font_7x10,1);
 745              		.loc 1 149 17 view .LVU167
 746 01aa 2146     		mov	r1, r4
 747 01ac 2046     		mov	r0, r4
 748 01ae FFF7FEFF 		bl	ssd1306_SetCursor
 749              	.LVL34:
 150:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,10);
 750              		.loc 1 150 17 view .LVU168
 751 01b2 494D     		ldr	r5, .L48+20
 752 01b4 3346     		mov	r3, r6
 753 01b6 95E80600 		ldm	r5, {r1, r2}
 754 01ba 4E48     		ldr	r0, .L48+48
 755 01bc FFF7FEFF 		bl	ssd1306_WriteString
 756              	.LVL35:
 151:Core/Src/koth_game.c ****                 ssd1306_WriteString("of the hill!",Font_7x10,1);
 757              		.loc 1 151 17 view .LVU169
 758 01c0 0A21     		movs	r1, #10
 759 01c2 2046     		mov	r0, r4
 760 01c4 FFF7FEFF 		bl	ssd1306_SetCursor
 761              	.LVL36:
 152:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 762              		.loc 1 152 17 view .LVU170
 763 01c8 3346     		mov	r3, r6
 764 01ca 95E80600 		ldm	r5, {r1, r2}
 765 01ce 4848     		ldr	r0, .L48+44
 766 01d0 FFF7FEFF 		bl	ssd1306_WriteString
 767              	.LVL37:
 153:Core/Src/koth_game.c ****             }
 768              		.loc 1 153 17 view .LVU171
 769 01d4 FFF7FEFF 		bl	ssd1306_UpdateScreen
 770              	.LVL38:
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 22


 771 01d8 93E7     		b	.L27
 772              	.L38:
 158:Core/Src/koth_game.c ****             {
 773              		.loc 1 158 13 view .LVU172
 158:Core/Src/koth_game.c ****             {
 774              		.loc 1 158 16 is_stmt 0 view .LVU173
 775 01da 3C4B     		ldr	r3, .L48+8
 776 01dc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 158:Core/Src/koth_game.c ****             {
 777              		.loc 1 158 15 view .LVU174
 778 01de 002B     		cmp	r3, #0
 779 01e0 8FD0     		beq	.L27
 780              	.LBB3:
 160:Core/Src/koth_game.c ****                 stateChange_flag = 0;
 781              		.loc 1 160 17 is_stmt 1 view .LVU175
 782 01e2 0720     		movs	r0, #7
 783 01e4 FFF7FEFF 		bl	sendOpcode
 784              	.LVL39:
 161:Core/Src/koth_game.c ****                 REDLED_ON;
 785              		.loc 1 161 17 view .LVU176
 161:Core/Src/koth_game.c ****                 REDLED_ON;
 786              		.loc 1 161 34 is_stmt 0 view .LVU177
 787 01e8 0024     		movs	r4, #0
 788 01ea 384B     		ldr	r3, .L48+8
 789 01ec 1C70     		strb	r4, [r3]
 162:Core/Src/koth_game.c ****                 BLUELED_OFF;
 790              		.loc 1 162 17 is_stmt 1 view .LVU178
 791 01ee 3E4D     		ldr	r5, .L48+36
 792 01f0 2246     		mov	r2, r4
 793 01f2 0221     		movs	r1, #2
 794 01f4 2846     		mov	r0, r5
 795 01f6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 796              	.LVL40:
 163:Core/Src/koth_game.c ****                 ssd1306_Fill(0);
 797              		.loc 1 163 17 view .LVU179
 798 01fa 0122     		movs	r2, #1
 799 01fc 0421     		movs	r1, #4
 800 01fe 2846     		mov	r0, r5
 801 0200 FFF7FEFF 		bl	HAL_GPIO_WritePin
 802              	.LVL41:
 164:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 803              		.loc 1 164 17 view .LVU180
 804 0204 2046     		mov	r0, r4
 805 0206 FFF7FEFF 		bl	ssd1306_Fill
 806              	.LVL42:
 165:Core/Src/koth_game.c ****                 ssd1306_WriteString("Red wins!",Font_7x10,1);
 807              		.loc 1 165 17 view .LVU181
 808 020a 2146     		mov	r1, r4
 809 020c 2046     		mov	r0, r4
 810 020e FFF7FEFF 		bl	ssd1306_SetCursor
 811              	.LVL43:
 166:Core/Src/koth_game.c ****                 char score [16];
 812              		.loc 1 166 17 view .LVU182
 813 0212 314D     		ldr	r5, .L48+20
 814 0214 0123     		movs	r3, #1
 815 0216 95E80600 		ldm	r5, {r1, r2}
 816 021a 3748     		ldr	r0, .L48+52
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 23


 817 021c FFF7FEFF 		bl	ssd1306_WriteString
 818              	.LVL44:
 167:Core/Src/koth_game.c ****                 uint16_t difference = red_counter - blue_counter;
 819              		.loc 1 167 17 view .LVU183
 168:Core/Src/koth_game.c ****                 sprintf(score, "Won by %ums", difference);
 820              		.loc 1 168 17 view .LVU184
 168:Core/Src/koth_game.c ****                 sprintf(score, "Won by %ums", difference);
 821              		.loc 1 168 51 is_stmt 0 view .LVU185
 822 0220 364B     		ldr	r3, .L48+56
 823 0222 1A88     		ldrh	r2, [r3]
 824 0224 364B     		ldr	r3, .L48+60
 825 0226 1B88     		ldrh	r3, [r3]
 168:Core/Src/koth_game.c ****                 sprintf(score, "Won by %ums", difference);
 826              		.loc 1 168 26 view .LVU186
 827 0228 D21A     		subs	r2, r2, r3
 828              	.LVL45:
 169:Core/Src/koth_game.c ****                 lcd_put_cur(1,0);
 829              		.loc 1 169 17 is_stmt 1 view .LVU187
 830 022a 92B2     		uxth	r2, r2
 169:Core/Src/koth_game.c ****                 lcd_put_cur(1,0);
 831              		.loc 1 169 17 is_stmt 0 view .LVU188
 832 022c 3549     		ldr	r1, .L48+64
 833 022e 6846     		mov	r0, sp
 834 0230 FFF7FEFF 		bl	sprintf
 835              	.LVL46:
 170:Core/Src/koth_game.c ****                 ssd1306_WriteString(score,Font_7x10,1);
 836              		.loc 1 170 17 is_stmt 1 view .LVU189
 837 0234 2146     		mov	r1, r4
 838 0236 0120     		movs	r0, #1
 839 0238 FFF7FEFF 		bl	lcd_put_cur
 840              	.LVL47:
 171:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 841              		.loc 1 171 17 view .LVU190
 842 023c 0123     		movs	r3, #1
 843 023e 95E80600 		ldm	r5, {r1, r2}
 844 0242 6846     		mov	r0, sp
 845 0244 FFF7FEFF 		bl	ssd1306_WriteString
 846              	.LVL48:
 172:Core/Src/koth_game.c ****             }
 847              		.loc 1 172 17 view .LVU191
 848 0248 FFF7FEFF 		bl	ssd1306_UpdateScreen
 849              	.LVL49:
 850 024c 59E7     		b	.L27
 851              	.L39:
 172:Core/Src/koth_game.c ****             }
 852              		.loc 1 172 17 is_stmt 0 view .LVU192
 853              	.LBE3:
 177:Core/Src/koth_game.c ****             {
 854              		.loc 1 177 13 is_stmt 1 view .LVU193
 177:Core/Src/koth_game.c ****             {
 855              		.loc 1 177 16 is_stmt 0 view .LVU194
 856 024e 1F4B     		ldr	r3, .L48+8
 857 0250 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 177:Core/Src/koth_game.c ****             {
 858              		.loc 1 177 15 view .LVU195
 859 0252 002B     		cmp	r3, #0
 860 0254 3FF455AF 		beq	.L27
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 24


 861              	.LBB4:
 179:Core/Src/koth_game.c ****                 stateChange_flag = 0;
 862              		.loc 1 179 17 is_stmt 1 view .LVU196
 863 0258 0620     		movs	r0, #6
 864 025a FFF7FEFF 		bl	sendOpcode
 865              	.LVL50:
 180:Core/Src/koth_game.c ****                 REDLED_OFF;
 866              		.loc 1 180 17 view .LVU197
 180:Core/Src/koth_game.c ****                 REDLED_OFF;
 867              		.loc 1 180 34 is_stmt 0 view .LVU198
 868 025e 0024     		movs	r4, #0
 869 0260 1A4B     		ldr	r3, .L48+8
 870 0262 1C70     		strb	r4, [r3]
 181:Core/Src/koth_game.c ****                 BLUELED_ON;
 871              		.loc 1 181 17 is_stmt 1 view .LVU199
 872 0264 204D     		ldr	r5, .L48+36
 873 0266 0122     		movs	r2, #1
 874 0268 0221     		movs	r1, #2
 875 026a 2846     		mov	r0, r5
 876 026c FFF7FEFF 		bl	HAL_GPIO_WritePin
 877              	.LVL51:
 182:Core/Src/koth_game.c ****                 ssd1306_Fill(0);
 878              		.loc 1 182 17 view .LVU200
 879 0270 2246     		mov	r2, r4
 880 0272 0221     		movs	r1, #2
 881 0274 2846     		mov	r0, r5
 882 0276 FFF7FEFF 		bl	HAL_GPIO_WritePin
 883              	.LVL52:
 183:Core/Src/koth_game.c ****                 ssd1306_SetCursor(0,0);
 884              		.loc 1 183 17 view .LVU201
 885 027a 2046     		mov	r0, r4
 886 027c FFF7FEFF 		bl	ssd1306_Fill
 887              	.LVL53:
 184:Core/Src/koth_game.c ****                 ssd1306_WriteString("Blue wins!",Font_7x10,1);
 888              		.loc 1 184 17 view .LVU202
 889 0280 2146     		mov	r1, r4
 890 0282 2046     		mov	r0, r4
 891 0284 FFF7FEFF 		bl	ssd1306_SetCursor
 892              	.LVL54:
 185:Core/Src/koth_game.c ****                 char score [16];
 893              		.loc 1 185 17 view .LVU203
 894 0288 134D     		ldr	r5, .L48+20
 895 028a 0123     		movs	r3, #1
 896 028c 95E80600 		ldm	r5, {r1, r2}
 897 0290 1D48     		ldr	r0, .L48+68
 898 0292 FFF7FEFF 		bl	ssd1306_WriteString
 899              	.LVL55:
 186:Core/Src/koth_game.c ****                 uint16_t difference = blue_counter - red_counter;
 900              		.loc 1 186 17 view .LVU204
 187:Core/Src/koth_game.c ****                 sprintf(score, "Won by %ums", difference);
 901              		.loc 1 187 17 view .LVU205
 187:Core/Src/koth_game.c ****                 sprintf(score, "Won by %ums", difference);
 902              		.loc 1 187 52 is_stmt 0 view .LVU206
 903 0296 1A4B     		ldr	r3, .L48+60
 904 0298 1A88     		ldrh	r2, [r3]
 905 029a 184B     		ldr	r3, .L48+56
 906 029c 1B88     		ldrh	r3, [r3]
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 25


 187:Core/Src/koth_game.c ****                 sprintf(score, "Won by %ums", difference);
 907              		.loc 1 187 26 view .LVU207
 908 029e D21A     		subs	r2, r2, r3
 909              	.LVL56:
 188:Core/Src/koth_game.c ****                 lcd_put_cur(1,0);
 910              		.loc 1 188 17 is_stmt 1 view .LVU208
 911 02a0 92B2     		uxth	r2, r2
 188:Core/Src/koth_game.c ****                 lcd_put_cur(1,0);
 912              		.loc 1 188 17 is_stmt 0 view .LVU209
 913 02a2 1849     		ldr	r1, .L48+64
 914 02a4 6846     		mov	r0, sp
 915 02a6 FFF7FEFF 		bl	sprintf
 916              	.LVL57:
 189:Core/Src/koth_game.c ****                 ssd1306_WriteString(score,Font_7x10,1);
 917              		.loc 1 189 17 is_stmt 1 view .LVU210
 918 02aa 2146     		mov	r1, r4
 919 02ac 0120     		movs	r0, #1
 920 02ae FFF7FEFF 		bl	lcd_put_cur
 921              	.LVL58:
 190:Core/Src/koth_game.c ****                 ssd1306_UpdateScreen();
 922              		.loc 1 190 17 view .LVU211
 923 02b2 0123     		movs	r3, #1
 924 02b4 95E80600 		ldm	r5, {r1, r2}
 925 02b8 6846     		mov	r0, sp
 926 02ba FFF7FEFF 		bl	ssd1306_WriteString
 927              	.LVL59:
 191:Core/Src/koth_game.c ****             }
 928              		.loc 1 191 17 view .LVU212
 929 02be FFF7FEFF 		bl	ssd1306_UpdateScreen
 930              	.LVL60:
 931              	.LBE4:
 211:Core/Src/koth_game.c **** 
 932              		.loc 1 211 1 is_stmt 0 view .LVU213
 933 02c2 1EE7     		b	.L27
 934              	.L49:
 935              		.align	2
 936              	.L48:
 937 02c4 00000000 		.word	loraRXopcode
 938 02c8 00000000 		.word	gameState
 939 02cc 00000000 		.word	stateChange_flag
 940 02d0 00000000 		.word	Font_11x18
 941 02d4 00000000 		.word	.LC2
 942 02d8 00000000 		.word	Font_7x10
 943 02dc 04000000 		.word	.LC3
 944 02e0 00000000 		.word	red_flag
 945 02e4 00000000 		.word	blue_flag
 946 02e8 00040240 		.word	1073873920
 947 02ec 14000000 		.word	.LC4
 948 02f0 20000000 		.word	.LC5
 949 02f4 30000000 		.word	.LC6
 950 02f8 40000000 		.word	.LC7
 951 02fc 00000000 		.word	red_counter
 952 0300 00000000 		.word	blue_counter
 953 0304 4C000000 		.word	.LC8
 954 0308 58000000 		.word	.LC9
 955              		.cfi_endproc
 956              	.LFE139:
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 26


 958              		.text
 959              	.Letext0:
 960              		.file 2 "c:\\libraries\\gcc\\11.2 2022.02\\arm-none-eabi\\include\\machine\\_default_types.h"
 961              		.file 3 "c:\\libraries\\gcc\\11.2 2022.02\\arm-none-eabi\\include\\sys\\_stdint.h"
 962              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 963              		.file 5 "c:\\libraries\\gcc\\11.2 2022.02\\lib\\gcc\\arm-none-eabi\\11.2.1\\include\\stddef.h"
 964              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 965              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 966              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 967              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 968              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 969              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 970              		.file 12 "Core/Inc/lora.h"
 971              		.file 13 "Core/Inc/extern.h"
 972              		.file 14 "Core/Inc/ssd1306_fonts.h"
 973              		.file 15 "Core/Inc/ssd1306.h"
 974              		.file 16 "c:\\libraries\\gcc\\11.2 2022.02\\arm-none-eabi\\include\\string.h"
 975              		.file 17 "c:\\libraries\\gcc\\11.2 2022.02\\arm-none-eabi\\include\\stdlib.h"
 976              		.file 18 "c:\\libraries\\gcc\\11.2 2022.02\\arm-none-eabi\\include\\stdio.h"
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 27


DEFINED SYMBOLS
                            *ABS*:00000000 koth_game.c
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:20     .text.resetGame:00000000 $t
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:26     .text.resetGame:00000000 resetGame
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:83     .text.resetGame:00000038 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:94     .rodata.getKOTHPacket.str1.4:00000000 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:98     .text.getKOTHPacket:00000000 $t
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:104    .text.getKOTHPacket:00000000 getKOTHPacket
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:198    .text.getKOTHPacket:00000060 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:211    .text.btnPressed:00000000 $t
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:217    .text.btnPressed:00000000 btnPressed
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:232    .text.btnPressed:0000000e $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:295    .text.btnPressed:0000004c $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:301    .rodata.sendOpcode.str1.4:00000000 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:305    .text.sendOpcode:00000000 $t
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:311    .text.sendOpcode:00000000 sendOpcode
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:364    .text.sendOpcode:00000038 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:373    .rodata.doGameState.str1.4:00000000 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:398    .text.doGameState:00000000 $t
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:404    .text.doGameState:00000000 doGameState
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:435    .text.doGameState:0000001a $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:465    .text.doGameState:0000003c $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:473    .text.doGameState:0000004c $t
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:937    .text.doGameState:000002c4 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:239    .text.btnPressed:00000015 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:239    .text.btnPressed:00000016 $t
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:442    .text.doGameState:00000021 $d
C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s:442    .text.doGameState:00000022 $t

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
red_flag
blue_flag
red_counter
blue_counter
gameState
stateChange_flag
LoRa_receive
strstr
strtol
loraRXbuf
myLoRa
packet_size
receivedPacket
gameStateNames
rxReadable
loraRXopcode
sprintf
LoRa_transmit
LoRa_startReceiving
opcodeString
txReadable
ssd1306_Fill
ssd1306_SetCursor
ssd1306_WriteString
ssd1306_UpdateScreen
osDelay
ARM GAS  C:\Users\jdcox\AppData\Local\Temp\ccjD8GlN.s 			page 28


lcd_put_cur
Font_11x18
Font_7x10
